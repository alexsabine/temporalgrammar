<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biological Systems - Cohere.org.uk</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        /* Base Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 50%, #f5f6f8 100%);
            font-family: Georgia, serif;
            line-height: 1.6;
            color: #2c2c2c;
            overflow-x: hidden;
        }

        /* Main Container */
        .page-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 60px;
        }

        /* Header Section */
        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 40px 0;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            position: relative;
            z-index: 100;
        }

        .logo-section {
            display: flex;
            align-items: center;
        }

        .logo {
            width: 60px;
            height: 60px;
            margin-right: 20px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.1);
        }

        .title-group {
            display: flex;
            flex-direction: column;
        }

        .site-title {
            font-family: Georgia, serif;
            font-size: 48px;
            font-weight: normal;
            color: #1a1a1a;
            letter-spacing: -0.5px;
            margin-bottom: 5px;
        }

        .strapline {
            font-family: Georgia, serif;
            font-size: 18px;
            font-style: italic;
            color: #6c757d;
            letter-spacing: 0.5px;
        }

        /* Navigation System */
        .main-nav {
            display: flex;
            align-items: center;
            gap: 40px;
        }

        .nav-item {
            position: relative;
        }

        .nav-link {
            font-family: Georgia, serif;
            font-size: 18px;
            font-weight: normal;
            color: #495057;
            text-decoration: none;
            padding: 12px 20px;
            border-radius: 4px;
            transition: all 0.3s ease;
            position: relative;
            display: flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
        }

        .nav-link:hover {
            background: rgba(74, 144, 226, 0.08);
            color: #1a1a1a;
            transform: translateY(-2px);
        }

        .nav-link.active {
            background: #4a90e2;
            color: white;
        }

        .dropdown-arrow {
            font-size: 12px;
            transition: transform 0.3s ease;
        }

        .nav-item:hover .dropdown-arrow {
            transform: rotate(180deg);
        }

        /* Dropdown Menu System */
        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            min-width: 220px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
            border: 1px solid rgba(0, 0, 0, 0.08);
            border-radius: 8px;
            padding: 8px 0;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-8px);
            transition: all 0.25s ease;
            z-index: 1000;
            overflow: hidden;
        }

        .nav-item:hover .dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-menu:hover {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .nav-item::before {
            content: '';
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            height: 2px;
            background: transparent;
            z-index: 999;
        }

        .dropdown-link {
            display: block;
            padding: 12px 20px;
            color: #495057;
            text-decoration: none;
            font-size: 16px;
            font-family: Georgia, serif;
            transition: all 0.2s ease;
            border-left: 3px solid transparent;
        }

        .dropdown-link:hover {
            background: rgba(74, 144, 226, 0.08);
            color: #4a90e2;
            border-left-color: #4a90e2;
        }

        /* Hero Section */
        .hero-section {
            padding: 100px 0 80px;
            text-align: center;
            position: relative;
        }

        .hero-background {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(74, 144, 226, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(108, 117, 125, 0.03) 0%, transparent 50%);
            pointer-events: none;
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero-title {
            font-family: Georgia, serif;
            font-size: 56px;
            font-weight: normal;
            line-height: 1.1;
            margin-bottom: 30px;
            color: #1a1a1a;
            letter-spacing: -1px;
        }

        .hero-subtitle {
            font-family: Georgia, serif;
            font-size: 24px;
            font-weight: normal;
            color: #495057;
            margin-bottom: 40px;
            line-height: 1.5;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Content Sections - Square edges */
        .content-section {
            margin: 80px 0;
            padding: 60px;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 0, 0, 0.05);
            position: relative;
        }

        .section-background {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(248, 249, 250, 0.5) 0%, transparent 100%);
            pointer-events: none;
        }

        .section-content {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            font-family: Georgia, serif;
            font-size: 36px;
            font-weight: normal;
            margin-bottom: 40px;
            color: #1a1a1a;
            text-align: center;
        }

        /* Biological Section Layout */
        .bio-section {
            display: grid;
            grid-template-columns: 400px 1fr;
            gap: 40px;
            align-items: start;
            margin-bottom: 60px;
        }

        .bio-section:nth-child(even) {
            grid-template-columns: 1fr 400px;
        }

        .bio-section:nth-child(even) .bio-image {
            order: 2;
        }

        .bio-section:nth-child(even) .bio-content {
            order: 1;
        }

        .bio-image {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(0, 0, 0, 0.05);
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 300px;
        }

        .bio-image img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .bio-content h3 {
            font-family: Georgia, serif;
            font-size: 28px;
            font-weight: normal;
            margin-bottom: 20px;
            color: #1a1a1a;
        }

        .bio-content p {
            font-family: Georgia, serif;
            font-size: 18px;
            line-height: 1.8;
            margin-bottom: 20px;
            text-align: justify;
            color: #495057;
        }

        .ucf-highlight {
            background: rgba(74, 144, 226, 0.05);
            padding: 20px;
            border-left: 3px solid #4a90e2;
            margin: 20px 0;
            font-style: italic;
        }

        /* Interactive Link */
        .simulation-link {
            display: inline-block;
            background: #4a90e2;
            color: white;
            padding: 12px 24px;
            border: none;
            font-family: Georgia, serif;
            font-size: 16px;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 15px;
        }

        .simulation-link:hover {
            background: #357abd;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(74, 144, 226, 0.3);
        }

        /* Footer */
        .footer {
            background: rgba(245, 246, 248, 0.9);
            backdrop-filter: blur(10px);
            border-top: 1px solid rgba(0, 0, 0, 0.05);
            padding: 50px 0 40px;
            text-align: center;
            margin-top: 80px;
        }

        .footer-content {
            max-width: 1000px;
            margin: 0 auto;
        }

        .copyright {
            font-family: Georgia, serif;
            font-size: 16px;
            color: #1a1a1a;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .footer-tech-note {
            font-family: Georgia, serif;
            font-size: 14px;
            color: #6c757d;
            font-style: italic;
            line-height: 1.4;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .bio-section,
            .bio-section:nth-child(even) {
                grid-template-columns: 1fr;
            }
            
            .bio-section:nth-child(even) .bio-image,
            .bio-section:nth-child(even) .bio-content {
                order: unset;
            }
        }

        @media (max-width: 768px) {
            .page-container {
                padding: 0 30px;
            }

            .header {
                flex-direction: column;
                gap: 30px;
                text-align: center;
                padding: 30px 0;
            }

            .logo-section {
                flex-direction: column;
                gap: 15px;
            }

            .logo {
                margin-right: 0;
            }

            .site-title {
                font-size: 36px;
            }

            .main-nav {
                flex-wrap: wrap;
                justify-content: center;
                gap: 15px;
            }

            .dropdown-menu {
                position: static;
                opacity: 1;
                visibility: visible;
                transform: none;
                box-shadow: none;
                border: none;
                background: rgba(74, 144, 226, 0.05);
                margin-top: 10px;
                border-radius: 4px;
                display: none;
            }

            .nav-item:hover .dropdown-menu {
                display: block;
            }

            .hero-section {
                padding: 60px 0 40px;
            }

            .hero-title {
                font-size: 42px;
            }

            .hero-subtitle {
                font-size: 20px;
            }

            .content-section {
                padding: 40px 25px;
                margin: 60px 0;
            }

            .section-title {
                font-size: 28px;
            }

            .bio-section {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="page-container">
        <header class="header">
            <div class="logo-section">
                <svg class="logo logo-hive" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <radialGradient id="hiveGrad" cx="50%" cy="50%" r="50%">
                            <stop offset="0%" style="stop-color:#8B4513;stop-opacity:0.9" />
                            <stop offset="70%" style="stop-color:#A0522D;stop-opacity:0.8" />
                            <stop offset="100%" style="stop-color:#654321;stop-opacity:0.7" />
                        </radialGradient>
                        <radialGradient id="honeyGrad" cx="50%" cy="50%" r="40%">
                            <stop offset="0%" style="stop-color:#FFD700;stop-opacity:0.8" />
                            <stop offset="100%" style="stop-color:#FFA500;stop-opacity:0.6" />
                        </radialGradient>
                    </defs>
                    
                    <ellipse cx="50" cy="55" rx="25" ry="30" fill="url(#hiveGrad)" stroke="#654321" stroke-width="1"/>
                    <ellipse cx="50" cy="75" rx="6" ry="8" fill="#3D2F1F"/>
                    
                    <path d="M30 40 Q50 38 70 40" stroke="#654321" stroke-width="1" fill="none" opacity="0.7"/>
                    <path d="M32 50 Q50 48 68 50" stroke="#654321" stroke-width="1" fill="none" opacity="0.7"/>
                    <path d="M34 60 Q50 58 66 60" stroke="#654321" stroke-width="1" fill="none" opacity="0.7"/>
                    
                    <g class="logo-interior">
                        <polygon points="45,45 47,43 52,43 54,45 52,47 47,47" fill="url(#honeyGrad)" opacity="0.8"/>
                        <polygon points="52,45 54,43 59,43 61,45 59,47 54,47" fill="url(#honeyGrad)" opacity="0.7"/>
                        <polygon points="38,45 40,43 45,43 47,45 45,47 40,47" fill="url(#honeyGrad)" opacity="0.9"/>
                        <polygon points="41,53 43,51 48,51 50,53 48,55 43,55" fill="url(#honeyGrad)" opacity="0.8"/>
                        <polygon points="48,53 50,51 55,51 57,53 55,55 50,55" fill="url(#honeyGrad)" opacity="0.7"/>
                        
                        <ellipse class="interior-bee-1" cx="46" cy="46" rx="2" ry="1.5" fill="#FFD700" opacity="0.8"/>
                        <ellipse class="interior-bee-2" cx="53" cy="52" rx="2" ry="1.5" fill="#FFD700" opacity="0.9"/>
                    </g>
                    
                    <g class="logo-bee bee-1">
                        <ellipse cx="25" cy="35" rx="3" ry="2" fill="#FFD700"/>
                        <ellipse cx="24" cy="35" rx="1.5" ry="1" fill="#000000"/>
                        <ellipse cx="26" cy="33" rx="2" ry="1" fill="rgba(255,255,255,0.7)"/>
                        <ellipse cx="26" cy="37" rx="2" ry="1" fill="rgba(255,255,255,0.7)"/>
                    </g>
                    
                    <g class="logo-bee bee-2">
                        <ellipse cx="75" cy="45" rx="3" ry="2" fill="#FFD700"/>
                        <ellipse cx="74" cy="45" rx="1.5" ry="1" fill="#000000"/>
                        <ellipse cx="76" cy="43" rx="2" ry="1" fill="rgba(255,255,255,0.7)"/>
                        <ellipse cx="76" cy="47" rx="2" ry="1" fill="rgba(255,255,255,0.7)"/>
                    </g>
                    
                    <g class="logo-bee bee-3">
                        <ellipse cx="40" cy="25" rx="3" ry="2" fill="#FFD700"/>
                        <ellipse cx="39" cy="25" rx="1.5" ry="1" fill="#000000"/>
                        <ellipse cx="41" cy="23" rx="2" ry="1" fill="rgba(255,255,255,0.7)"/>
                        <ellipse cx="41" cy="27" rx="2" ry="1" fill="rgba(255,255,255,0.7)"/>
                    </g>
                    
                    <g class="logo-bee bee-4">
                        <ellipse cx="65" cy="25" rx="3" ry="2" fill="#FFD700"/>
                        <ellipse cx="64" cy="25" rx="1.5" ry="1" fill="#000000"/>
                        <ellipse cx="66" cy="23" rx="2" ry="1" fill="rgba(255,255,255,0.7)"/>
                        <ellipse cx="66" cy="27" rx="2" ry="1" fill="rgba(255,255,255,0.7)"/>
                    </g>
                </svg>
                
                <div class="title-group">
                    <h1 class="site-title">Cohere.org.uk</h1>
                    <p class="strapline">Made of Maths</p>
                </div>
            </div>

            <nav class="main-nav">
                <div class="nav-item">
                    <a href="index.html" class="nav-link">Home</a>
                </div>
                <div class="nav-item">
                    <a href="crr-simulations.html" class="nav-link active">
                        CRR Simulations
                        <span class="dropdown-arrow">â–¼</span>
                    </a>
                    <div class="dropdown-menu">
                        <a href="biological-systems.html" class="dropdown-link">Biological Systems</a>
                        <a href="physical-systems.html" class="dropdown-link">Physical Systems</a>
                        <a href="mathematical-life.html" class="dropdown-link">Mathematical Life</a>
                    </div>
                </div>
                <div class="nav-item">
                    <a href="crr-benchmarks.html" class="nav-link">CRR Benchmarks</a>
                </div>
                <div class="nav-item">
                    <a href="crr-explained.html" class="nav-link">CRR Explained</a>
                </div>
                <div class="nav-item">
                    <a href="about.html" class="nav-link">About</a>
                </div>
            </nav>
        </header>

        <main>
            <section class="hero-section">
                <div class="hero-background"></div>
                <div class="hero-content">
                    <h2 class="hero-title">Biological Systems</h2>
                    <p class="hero-subtitle">CRR dynamics in living ecosystems</p>
                </div>
            </section>

            <section class="content-section">
                <div class="section-background"></div>
                <div class="section-content">
                    <h2 class="section-title">Living Mathematical Ecosystems</h2>

                    <div class="bio-section">
                        <div class="bio-image">
                            <img src="bees.png" alt="Bee swarm forming coherent patterns around flower letters" />
                        </div>
                        <div class="bio-content">
                            <h3>Birds, Bees, Butterflies and Bats!</h3>
                            <p>These simulations demonstrate non-Markovian swarming algorithms across multiple species. Genetic algorithms drive bees as they pollinate flowers and produce mathematically emergent honey within hives. Robins exhibit territorial behaviours, building nests on L-System trees while avoiding predators through coordinated flocking responses. Bats use their sonar to hunt moths on a moonlit sea</p>
                            
                            <div class="ucf-highlight">
                                Butterfly metamorphosis showcases CRR phase transitions: coherence development from embryo to caterpillar, rupture during pupation, and regeneration as the adult emerges with transformed capabilities.
                            </div>
                            
                            <p>Each species operates through distinct CRR parameters, creating diverse behavioral patterns from the same mathematical framework. Swarm intelligence emerges from local interactions between autonomous agents, demonstrating how simple rules generate complex ecosystem dynamics.</p>
                            
                            <a href="birds.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Birds</a>
                            <a href="bees.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Bees</a>
                            <a href="bee_vision.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Bee Vision (Toy!)</a>
                            <a href="butterfly.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Butterflies</a>
                            <a href="bats.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Bats</a>
                            <a href="fixed_ant_colony.html" class="simulation-link" target="_blank" rel="noopener noreferrer">And...AgAnts</a>
                        </div>
                    </div>

                    <div class="bio-section">
                        <div class="bio-image">
                            <img src="marine.png" alt="Mathematical coral reef with fish and predator system" />
                        </div>
                        <div class="bio-content">
                            <h3>Marine Environments</h3>
                            <p>Mathematical coral systems respond to environmental heat stress through coherence-based bleaching and recovery cycles. Fish populations interact with coral through feeding behaviours, while mathematical currents shape the fish school behaviours and movements in realtime.</p>
                            
                            <div class="ucf-highlight">
                                Memory-enabled Reaction-Diffusion plankton systems create dynamic oceanic patterns, where phytoplankton blooms and predator-prey cycles emerge from CRR equations governing nutrient distribution and consumption.
                            </div>
                            
                            <p>These aquatic ecosystems demonstrate how CRR principles scale from microscopic plankton to complex reef systems, with each organism contributing to collective environmental coherence through biochemical signaling and spatial organisation.</p>
                            
                            <a href="marine.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Marine Tank</a>
                            <a href="marine2.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Marine Tank (with current adjustment)</a>
                        </div>
                    </div>

                    <div class="bio-section">
                        <div class="bio-image">
                            <img src="mycelium.png" alt="Mycelium network growth with branching patterns" />
                        </div>
                        <div class="bio-content">
                            <h3>Moss & Mycelium</h3>
                            <p>Memory-enabled environments simulate real-time growth of moss, mycelium, and tree rings. Forest ecosystems feature L-System trees with photosynthetic processes, while mycelial networks demonstrate glucose exchange and resource distribution across interconnected hyphal networks.</p>
                            
                            <div class="ucf-highlight">
                                High-fidelity microscopy reveals cellular-level CRR dynamics: moss gametophyte development, hyphal branching patterns, and coherence accumulation in mathematical cellular structures through non-Markovian growth processes.
                            </div>
                            
                            <p>These simulations capture the CRR nature of biological growth, where current development depends on accumulated historical patterns. Mycelial intelligence emerges through network topology optimisation and resource-sharing behaviours that transcend individual organism boundaries.</p>
                            
                            <a href="moss.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Moss (Toy)</a>
                            <a href="moss_a.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Moss (Advanced)</a>
                            <a href="mycelium.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Mycelium</a>
                            <a href="ecosystem.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Tree, Moss and Mycelium Ecosystem</a>
                            <a href="tree_ring.html" class="simulation-link" target="_blank" rel="noopener noreferrer">New Forest Tree Ring Growth</a>
                        </div>
                    </div>

                    <div class="bio-section">
                        <div class="bio-image">
                            <img src="thunder.png" alt="Storm clouds with lightning and mathematical sun" />
                        </div>
                        <div class="bio-content">
                            <h3>Weather Systems</h3>
                            <p>Atmospheric CRR dynamics drive cloud formation, charge accumulation, and lightning discharge patterns. The system tracks real-time Coherence-Rupture-Regeneration phases as electrical potential builds in cloud systems until rupture thresholds trigger lightning strikes through optimal CRR field pathways.</p>
                            
                            <div class="ucf-highlight">
                                Mathematical sun positioning drives convection and charge separation, while sophisticated lightning pathfinding algorithms use coherence field calculations to determine discharge routes. Thunder audio emerges from diagetic mathematical synthesis, creating authentic storm soundscapes through procedural waveform generation.
                            </div>
                            
                            <p>The simulation features both bolt lightning (cloud-to-ground strikes) and sheet lightning (cloud-to-cloud discharges), with interactive lightning and real-time storm parameter control. Users can observe how CRR coherence fields influence atmospheric electrical behavior and precipitation patterns. The hurricane example shows three toy models of memory-based hurricanes over Jamaica.</p>
                            
                            <a href="weather.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Experience Storm Formation</a>
                            <a href="hurricane.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Experience CRR Hurricane</a>
                        </div>
                    </div>
                    <div class="bio-section">
                        <div class="bio-image">
                            <img src="fish.png" alt="Fish scale iridescence and mother-of-pearl surface" />
                        </div>
                        <div class="bio-content">
                            <h3>Iridescence and Pearlescence</h3>
                            <p>These simulations demonstrate memory-enhanced biologically realistic surface textures. Fish scale iridescence and mother-of-pearl surfaces exhibit enhanced color visibility through structural interference patterns.</p>
                            
                            <div class="ucf-highlight">
                                Golden beetle carapaces demonstrate dynamic metallic colouration through thin-film interference, modelling the real-world Charidotella sexpunctata that actively changes from brilliant gold to dull brown through cuticle structure manipulation.
                            </div>
                            
                            <p>Each system  was derived by the CRR framework to model coherence accumulation, rupture events, and regenerative processes. Memory integration enables temporal patterns that persist beyond immediate stimulus, creating surfaces that respond to viewing angle and variable changes.</p>
                            
                            <a href="fish_irridescence.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Fish Scale Iridescence</a>
                            <a href="crr_mother_of_pearl.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Mother-of-Pearl</a>
                            <a href="golden_beetle_crr.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Golden Beetle</a>
                        </div>
                    </div>

                </div>
            </section>
        </main>
    </div>

    <footer class="footer">
        <div class="page-container">
            <div class="footer-content">
                <p class="copyright">
                    <strong>Github Repo: https://github.com/alexsabine/CRR/</strong>
                </p>
                <p class="footer-tech-note">
                    Note: These simulations utilise HTML5, WebGL2, and advanced JavaScript. Desktop browsers recommended for optimal performance.
                </p>
            </div>
        </div>
    </footer>

    <script>
        'use strict';

        // Logo Animation System
        class BiologicalSystemsPage {
            constructor() {
                this.animationTime = 0;
                this.isAnimating = true;
                this.rafId = null;
                this.elements = this.cacheElements();
                this.init();
            }

            cacheElements() {
                return {
                    logo: document.querySelector('.logo'),
                    logoHive: document.querySelector('.logo-hive'),
                    bees: document.querySelectorAll('.logo-bee'),
                    interiorBees: document.querySelectorAll('[class*="interior-bee"]'),
                    navLinks: document.querySelectorAll('.nav-link')
                };
            }

            init() {
                if (document.readyState === 'loading') {
                    document.addEventListener('DOMContentLoaded', () => this.start());
                } else {
                    this.start();
                }
            }

            start() {
                try {
                    this.setupLogoInteractions();
                    this.setupNavigationInteractions();
                    
                    if (!this.respectsReducedMotion()) {
                        this.startAnimation();
                    }
                    
                    this.setupVisibilityChange();
                } catch (error) {
                    console.error('Initialisation error:', error);
                }
            }

            setupLogoInteractions() {
                if (!this.elements.logo) return;
                this.elements.logo.addEventListener('click', () => {
                    this.elements.logoHive.style.filter = 'drop-shadow(0 0 20px rgba(74, 144, 226, 0.8))';
                    setTimeout(() => this.elements.logoHive.style.filter = 'none', 2000);
                });
            }

            setupNavigationInteractions() {
                this.elements.navLinks.forEach((link) => {
                    link.addEventListener('mouseenter', () => {
                        if (!link.classList.contains('active')) {
                            link.style.transform = 'translateY(-2px)';
                        }
                    });
                    
                    link.addEventListener('mouseleave', () => {
                        link.style.transform = 'translateY(0)';
                    });
                });
            }

            startAnimation() {
                const animate = () => {
                    if (!this.isAnimating) return;
                    
                    this.animationTime += 0.02;
                    this.animateBees();
                    this.animateInteriorBees();
                    
                    this.rafId = requestAnimationFrame(animate);
                };
                
                animate();
            }

            animateBees() {
                this.elements.bees.forEach((bee, index) => {
                    const baseAngle = (index * Math.PI * 0.5) + this.animationTime * (0.3 + index * 0.1);
                    const radius = 15 + Math.sin(this.animationTime * 0.5 + index) * 4;
                    
                    const figure8 = Math.sin(this.animationTime * 0.4 + index * 0.6) * 6;
                    
                    const x = 50 + Math.cos(baseAngle) * radius + figure8 * Math.cos(baseAngle * 1.5);
                    const y = 50 + Math.sin(baseAngle) * radius * 0.7 + figure8 * 0.2 * Math.sin(baseAngle * 2);
                    
                    bee.setAttribute('transform', `translate(${x - 50}, ${y - 50})`);
                    
                    const wingBeat = 0.7 + 0.3 * Math.sin(this.animationTime * 10 + index * 2);
                    bee.style.opacity = wingBeat;
                });
            }

            animateInteriorBees() {
                this.elements.interiorBees.forEach((bee, index) => {
                    const movement = Math.sin(this.animationTime * 2 + index * 3) * 1.5;
                    const rotation = Math.sin(this.animationTime * 1.5 + index * 2) * 6;
                    
                    bee.setAttribute('transform', `translate(${movement}, ${movement * 0.5}) rotate(${rotation})`);
                });
            }

            setupVisibilityChange() {
                document.addEventListener('visibilitychange', () => {
                    if (document.hidden) {
                        this.isAnimating = false;
                        if (this.rafId) {
                            cancelAnimationFrame(this.rafId);
                        }
                    } else if (!this.respectsReducedMotion()) {
                        this.isAnimating = true;
                        this.startAnimation();
                    }
                });
            }

            respectsReducedMotion() {
                return window.matchMedia('(prefers-reduced-motion: reduce)').matches;
            }

            destroy() {
                this.isAnimating = false;
                if (this.rafId) {
                    cancelAnimationFrame(this.rafId);
                }
            }
        }

        // Initialize application
        const app = new BiologicalSystemsPage();

        // Cleanup on page unload
        window.addEventListener('beforeunload', () => {
            if (app) app.destroy();
        });
    </script>
</body>
</html>
