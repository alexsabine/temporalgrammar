<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biological Systems - Cohere.org.uk</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        /* Base Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 50%, #f5f6f8 100%);
            font-family: Georgia, serif;
            line-height: 1.6;
            color: #2c2c2c;
            overflow-x: hidden;
        }

        /* Main Container */
        .page-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 60px;
        }

        /* Header Section */
        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 40px 0;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            position: relative;
            z-index: 100;
        }

        .logo-section {
            display: flex;
            align-items: center;
        }

        .logo {
            width: 60px;
            height: 60px;
            margin-right: 20px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.1);
        }

        /* ════════════════════════════════════════════════════════════════════════
           ☉ THE ALCHEMICAL SUN — CRR Logo Styles
           ════════════════════════════════════════════════════════════════════════ */
        
        .crr-sun {
            width: 62px;
            height: 62px;
            margin-right: 18px;
            cursor: pointer;
            flex-shrink: 0;
        }
        
        .crr-sun-svg {
            width: 100%;
            height: 100%;
            overflow: visible;
        }
        
        .photosphere {
            animation: photospherePulse 6s ease-in-out infinite;
        }
        
        @keyframes photospherePulse {
            0%, 100% { filter: brightness(1) saturate(1); }
            42% { filter: brightness(1.03) saturate(1.05); }
            48% { filter: brightness(1.08) saturate(1.12); }
            55% { filter: brightness(0.97) saturate(0.95); }
        }
        
        .granule {
            animation: granuleLife 4s ease-in-out infinite;
        }
        
        .granule-1 { animation-delay: 0s; animation-duration: 3.2s; }
        .granule-2 { animation-delay: -1.1s; animation-duration: 4.1s; }
        .granule-3 { animation-delay: -2.3s; animation-duration: 3.6s; }
        .granule-4 { animation-delay: -0.5s; animation-duration: 4.4s; }
        .granule-5 { animation-delay: -2.8s; animation-duration: 3s; }
        .granule-6 { animation-delay: -1.7s; animation-duration: 3.9s; }
        
        @keyframes granuleLife {
            0% { 
                opacity: 0.08; 
                transform: scale(0.5) translateY(1px);
                filter: brightness(0.8);
            }
            45% { 
                opacity: 0.45; 
                transform: scale(1.15) translateY(-0.5px);
                filter: brightness(1.2);
            }
            55% { 
                opacity: 0.4; 
                transform: scale(1.1) translateY(0);
                filter: brightness(1.1);
            }
            80% { 
                opacity: 0.15; 
                transform: scale(0.7) translateY(0.5px);
                filter: brightness(0.9);
            }
            100% { 
                opacity: 0.08; 
                transform: scale(0.5) translateY(1px);
                filter: brightness(0.8);
            }
        }
        
        .corona-ray {
            opacity: 0.88;
            transform-origin: center;
            animation: flameDance 1.2s ease-in-out infinite;
        }
        
        .ray-1 { animation-duration: 1.1s; animation-delay: 0s; }
        .ray-2 { animation-duration: 1.3s; animation-delay: -0.2s; }
        .ray-3 { animation-duration: 1.0s; animation-delay: -0.5s; }
        .ray-4 { animation-duration: 1.25s; animation-delay: -0.15s; }
        .ray-5 { animation-duration: 1.15s; animation-delay: -0.4s; }
        .ray-6 { animation-duration: 1.35s; animation-delay: -0.3s; }
        .ray-7 { animation-duration: 1.05s; animation-delay: -0.55s; }
        .ray-8 { animation-duration: 1.2s; animation-delay: -0.1s; }
        
        @keyframes flameDance {
            0%, 100% { 
                opacity: 0.8;
                filter: brightness(0.95);
            }
            25% { 
                opacity: 0.92;
                filter: brightness(1.08);
            }
            50% { 
                opacity: 0.85;
                filter: brightness(1.0);
            }
            75% { 
                opacity: 0.95;
                filter: brightness(1.12);
            }
        }
        
        .corona-ray-minor {
            opacity: 0.5;
            animation: flameDanceMinor 1.5s ease-in-out infinite;
        }
        
        .corona-ray-minor:nth-child(1) { animation-duration: 1.4s; animation-delay: 0s; }
        .corona-ray-minor:nth-child(2) { animation-duration: 1.6s; animation-delay: -0.3s; }
        .corona-ray-minor:nth-child(3) { animation-duration: 1.3s; animation-delay: -0.6s; }
        .corona-ray-minor:nth-child(4) { animation-duration: 1.55s; animation-delay: -0.2s; }
        .corona-ray-minor:nth-child(5) { animation-duration: 1.45s; animation-delay: -0.5s; }
        .corona-ray-minor:nth-child(6) { animation-duration: 1.35s; animation-delay: -0.4s; }
        .corona-ray-minor:nth-child(7) { animation-duration: 1.5s; animation-delay: -0.15s; }
        .corona-ray-minor:nth-child(8) { animation-duration: 1.4s; animation-delay: -0.45s; }
        
        @keyframes flameDanceMinor {
            0%, 100% { 
                opacity: 0.4;
                filter: brightness(0.9);
            }
            50% { 
                opacity: 0.6;
                filter: brightness(1.1);
            }
        }
        
        .coronal-loop {
            opacity: 0;
            animation: loopMemory 6s ease-in-out infinite;
        }
        
        @keyframes loopMemory {
            0%, 48% { 
                opacity: 0;
                stroke-dashoffset: 15;
            }
            55% { 
                opacity: 0.5;
                stroke-dashoffset: 8;
            }
            72% { 
                opacity: 0.75;
                stroke-dashoffset: 0;
            }
            90% { 
                opacity: 0.25;
                stroke-dashoffset: 0;
            }
            100% { 
                opacity: 0;
                stroke-dashoffset: 15;
            }
        }
        
        .chromosphere-ring {
            animation: limbGlow 6s ease-in-out infinite;
        }
        
        @keyframes limbGlow {
            0%, 100% { opacity: 0.25; }
            42% { opacity: 0.4; }
            48% { opacity: 0.7; }
            55% { opacity: 0.35; }
        }
        
        .solar-flare {
            opacity: 0;
            animation: flareRupture 6s ease-out infinite;
        }
        
        @keyframes flareRupture {
            0%, 44% { 
                opacity: 0; 
                transform: scale(0.5);
            }
            48% { 
                opacity: 0.9; 
                transform: scale(1.12);
            }
            52% { 
                opacity: 0.55; 
                transform: scale(1);
            }
            62% { 
                opacity: 0.15; 
                transform: scale(0.88);
            }
            72%, 100% { 
                opacity: 0; 
                transform: scale(0.6);
            }
        }
        
        .core-glow {
            animation: coreIntensity 6s ease-in-out infinite;
        }
        
        @keyframes coreIntensity {
            0%, 100% { opacity: 0.45; transform: scale(1); }
            42% { opacity: 0.7; transform: scale(1.03); }
            48% { opacity: 0.92; transform: scale(1.08); }
            55% { opacity: 0.55; transform: scale(0.97); }
        }
        
        .crr-sun:hover .corona-ray {
            animation-duration: 0.6s;
        }
        
        .crr-sun:hover .corona-ray-minor {
            animation-duration: 0.8s;
        }
        
        .crr-sun:hover .solar-flare,
        .crr-sun:hover .coronal-loop,
        .crr-sun:hover .photosphere,
        .crr-sun:hover .core-glow,
        .crr-sun:hover .chromosphere-ring {
            animation-duration: 3s;
        }
        
        .crr-sun:hover .granule {
            animation-duration: 1.8s !important;
        }
        
        .crr-sun:hover .crr-sun-svg {
            filter: drop-shadow(0 0 8px rgba(255, 180, 60, 0.6));
        }
        
        .crr-sun.erupting .solar-flare {
            animation: cmeNow 0.6s ease-out forwards !important;
        }
        
        .crr-sun.erupting .corona-ray {
            animation: flameSurge 0.5s ease-out !important;
        }
        
        .crr-sun.erupting .corona-ray-minor {
            animation: flameSurgeMinor 0.4s ease-out !important;
        }
        
        .crr-sun.erupting .coronal-loop {
            animation: loopFlash 0.8s ease-out forwards !important;
        }
        
        @keyframes cmeNow {
            0% { opacity: 0; transform: scale(0.4); }
            20% { opacity: 1; transform: scale(1.2); }
            100% { opacity: 0; transform: scale(0.65); }
        }
        
        @keyframes flameSurge {
            0% { 
                opacity: 0.88;
                filter: brightness(1); 
            }
            25% { 
                opacity: 1;
                filter: brightness(1.4); 
            }
            100% { 
                opacity: 0.75;
                filter: brightness(0.85); 
            }
        }
        
        @keyframes flameSurgeMinor {
            0% { opacity: 0.5; }
            25% { opacity: 0.85; }
            100% { opacity: 0.4; }
        }
        
        @keyframes loopFlash {
            0% { opacity: 0; stroke-dashoffset: 15; }
            25% { opacity: 1; stroke-dashoffset: 0; }
            100% { opacity: 0; stroke-dashoffset: -10; }
        }
        
        @media (prefers-reduced-motion: reduce) {
            .photosphere, .granule, .corona-ray, .corona-ray-minor,
            .solar-flare, .core-glow, .coronal-loop, .chromosphere-ring {
                animation: none !important;
            }
            .corona-ray { opacity: 0.88; filter: brightness(1); }
            .corona-ray-minor { opacity: 0.5; }
            .granule { opacity: 0.25; }
            .coronal-loop { opacity: 0.4; stroke-dashoffset: 0; }
            .chromosphere-ring { opacity: 0.4; }
        }

        .title-group {
            display: flex;
            flex-direction: column;
        }

        .site-title {
            font-family: Georgia, serif;
            font-size: 48px;
            font-weight: normal;
            color: #1a1a1a;
            letter-spacing: -0.5px;
            margin-bottom: 5px;
        }

        .strapline {
            font-family: Georgia, serif;
            font-size: 18px;
            font-style: italic;
            color: #6c757d;
            letter-spacing: 0.5px;
        }

        /* Navigation System */
        .main-nav {
            display: flex;
            align-items: center;
            gap: 40px;
        }

        .nav-item {
            position: relative;
        }

        .nav-link {
            font-family: Georgia, serif;
            font-size: 18px;
            font-weight: normal;
            color: #495057;
            text-decoration: none;
            padding: 12px 20px;
            border-radius: 4px;
            transition: all 0.3s ease;
            position: relative;
            display: flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
        }

        .nav-link:hover {
            background: rgba(184, 134, 11, 0.08);
            color: #1a1a1a;
            transform: translateY(-2px);
        }

        .nav-link.active {
            background: linear-gradient(135deg, #D4A012 0%, #B8860B 100%);
            color: white;
        }

        .dropdown-arrow {
            font-size: 12px;
            transition: transform 0.3s ease;
        }

        .nav-item:hover .dropdown-arrow {
            transform: rotate(180deg);
        }

        /* Dropdown Menu System */
        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            min-width: 220px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
            border: 1px solid rgba(0, 0, 0, 0.08);
            border-radius: 8px;
            padding: 8px 0;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-8px);
            transition: all 0.25s ease;
            z-index: 1000;
            overflow: hidden;
        }

        .nav-item:hover .dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-menu:hover {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .nav-item::before {
            content: '';
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            height: 2px;
            background: transparent;
            z-index: 999;
        }

        .dropdown-link {
            display: block;
            padding: 12px 20px;
            color: #495057;
            text-decoration: none;
            font-size: 16px;
            font-family: Georgia, serif;
            transition: all 0.2s ease;
            border-left: 3px solid transparent;
        }

        .dropdown-link:hover {
            background: rgba(184, 134, 11, 0.08);
            color: #B8860B;
            border-left-color: #D4A012;
        }

        /* Hero Section */
        .hero-section {
            padding: 100px 0 80px;
            text-align: center;
            position: relative;
        }

        .hero-background {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(74, 144, 226, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(108, 117, 125, 0.03) 0%, transparent 50%);
            pointer-events: none;
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero-title {
            font-family: Georgia, serif;
            font-size: 56px;
            font-weight: normal;
            line-height: 1.1;
            margin-bottom: 30px;
            color: #1a1a1a;
            letter-spacing: -1px;
        }

        .hero-subtitle {
            font-family: Georgia, serif;
            font-size: 24px;
            font-weight: normal;
            color: #495057;
            margin-bottom: 40px;
            line-height: 1.5;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Content Sections - Square edges */
        .content-section {
            margin: 80px 0;
            padding: 60px;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 0, 0, 0.05);
            position: relative;
        }

        .section-background {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(248, 249, 250, 0.5) 0%, transparent 100%);
            pointer-events: none;
        }

        .section-content {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            font-family: Georgia, serif;
            font-size: 36px;
            font-weight: normal;
            margin-bottom: 40px;
            color: #1a1a1a;
            text-align: center;
        }

        /* Biological Section Layout */
        .bio-section {
            display: grid;
            grid-template-columns: 400px 1fr;
            gap: 40px;
            align-items: start;
            margin-bottom: 60px;
        }

        .bio-section:nth-child(even) {
            grid-template-columns: 1fr 400px;
        }

        .bio-section:nth-child(even) .bio-image {
            order: 2;
        }

        .bio-section:nth-child(even) .bio-content {
            order: 1;
        }

        .bio-image {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(0, 0, 0, 0.05);
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 300px;
        }

        .bio-image img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .bio-content h3 {
            font-family: Georgia, serif;
            font-size: 28px;
            font-weight: normal;
            margin-bottom: 20px;
            color: #1a1a1a;
        }

        .bio-content p {
            font-family: Georgia, serif;
            font-size: 18px;
            line-height: 1.8;
            margin-bottom: 20px;
            text-align: justify;
            color: #495057;
        }

        .ucf-highlight {
            background: rgba(184, 134, 11, 0.05);
            padding: 20px;
            border-left: 3px solid #B8860B;
            margin: 20px 0;
            font-style: italic;
        }

        /* Interactive Link */
        .simulation-link {
            display: inline-block;
            background: linear-gradient(135deg, #D4A012 0%, #B8860B 100%);
            color: white;
            padding: 12px 24px;
            border: none;
            font-family: Georgia, serif;
            font-size: 16px;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 15px;
            margin-right: 10px;
        }

        .simulation-link:hover {
            background: linear-gradient(135deg, #B8860B 0%, #8B6914 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(184, 134, 11, 0.3);
        }

        /* Footer */
        .footer {
            background: rgba(245, 246, 248, 0.95);
            backdrop-filter: blur(10px);
            border-top: 1px solid rgba(0, 0, 0, 0.05);
            padding: 50px 0 40px;
            text-align: center;
            margin-top: 80px;
        }

        .footer-content {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .footer-sections {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 40px;
            margin-bottom: 35px;
            text-align: left;
        }

        .footer-section h4 {
            font-family: Georgia, serif;
            font-size: 14px;
            font-weight: normal;
            font-variant: small-caps;
            letter-spacing: 0.05em;
            color: #1a1a1a;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid rgba(184, 134, 11, 0.3);
        }

        .footer-section ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .footer-section li {
            margin-bottom: 10px;
        }

        .footer-section a {
            font-family: Georgia, serif;
            font-size: 14px;
            color: #4a4a4a;
            text-decoration: none;
            transition: color 0.2s ease;
        }

        .footer-section a:hover {
            color: #B8860B;
        }

        .footer-section.aliboo h4 {
            color: #B8860B;
        }

        .footer-section.aliboo a {
            color: #6a5a3a;
        }

        .footer-section.aliboo a:hover {
            color: #B8860B;
        }

        .footer-divider {
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(184, 134, 11, 0.3), transparent);
            margin: 30px 0;
        }

        .footer-repo-note {
            font-family: Georgia, serif;
            font-size: 13px;
            color: #6c757d;
            font-style: italic;
            line-height: 1.6;
            max-width: 700px;
            margin: 0 auto 25px;
        }

        .footer-author {
            font-family: Georgia, serif;
            font-size: 14px;
            color: #4a4a4a;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .footer-author a {
            color: #B8860B;
            text-decoration: none;
        }

        .footer-author a:hover {
            text-decoration: underline;
        }

        .footer-tech-note {
            font-family: Georgia, serif;
            font-size: 12px;
            color: #8c8c8c;
            font-style: italic;
            line-height: 1.4;
        }

        .sitemap-header {
            font-family: Georgia, serif;
            font-size: 16px;
            font-style: italic;
            color: #5a5a5a;
            margin: 30px 0 20px;
            text-align: center;
        }

        .anthill-container {
            background: linear-gradient(180deg, #7a6548 0%, #5c4a35 8%, #4a3728 25%, #3d2a1a 60%, #2e1f12 100%);
            border-radius: 0;
            padding: 0;
            margin: 20px auto 30px;
            max-width: 950px;
            height: 420px;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(0,0,0,0.3);
            box-shadow: inset 0 0 60px rgba(0,0,0,0.5), 0 4px 20px rgba(0,0,0,0.3);
        }

        .anthill-canvas {
            width: 100%;
            height: 100%;
            display: block;
        }

        .colony-stats {
            position: absolute;
            bottom: 8px;
            right: 12px;
            font-family: Georgia, serif;
            font-size: 10px;
            color: rgba(255, 248, 220, 0.6);
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
        }

        @media (max-width: 768px) {
            .anthill-container {
                height: 380px;
            }
            
            .footer-sections {
                grid-template-columns: 1fr;
                gap: 30px;
                text-align: center;
            }
            
            .footer-section h4 {
                border-bottom: none;
                padding-bottom: 0;
            }
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .bio-section,
            .bio-section:nth-child(even) {
                grid-template-columns: 1fr;
            }
            
            .bio-section:nth-child(even) .bio-image,
            .bio-section:nth-child(even) .bio-content {
                order: unset;
            }
        }

        @media (max-width: 768px) {
            .page-container {
                padding: 0 30px;
            }

            .header {
                flex-direction: column;
                gap: 30px;
                text-align: center;
                padding: 30px 0;
            }

            .logo-section {
                flex-direction: column;
                gap: 15px;
            }

            .logo {
                margin-right: 0;
            }

            .site-title {
                font-size: 36px;
            }

            .main-nav {
                flex-wrap: wrap;
                justify-content: center;
                gap: 15px;
            }

            .dropdown-menu {
                position: static;
                opacity: 1;
                visibility: visible;
                transform: none;
                box-shadow: none;
                border: none;
                background: rgba(212, 160, 18, 0.08);
                margin-top: 10px;
                border-radius: 4px;
                display: none;
            }

            .nav-item:hover .dropdown-menu {
                display: block;
            }

            .hero-section {
                padding: 60px 0 40px;
            }

            .hero-title {
                font-size: 42px;
            }

            .hero-subtitle {
                font-size: 20px;
            }

            .content-section {
                padding: 40px 25px;
                margin: 60px 0;
            }

            .section-title {
                font-size: 28px;
            }

            .bio-section {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="page-container">
        <header class="header">
            <div class="logo-section">
                <!-- ☉ THE ALCHEMICAL SUN — Blake's Vision in CRR ☉ -->
                <div class="crr-sun" id="crrSun" title="Sol Invictus — The Alchemical Furnace">
                    <svg class="crr-sun-svg" viewBox="0 0 52 52" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <!-- Plasma turbulence for photorealistic texture -->
                            <filter id="plasmaTurbulence" x="-20%" y="-20%" width="140%" height="140%">
                                <feTurbulence type="fractalNoise" baseFrequency="0.08" numOctaves="3" seed="42" result="noise"/>
                                <feDisplacementMap in="SourceGraphic" in2="noise" scale="1.5" xChannelSelector="R" yChannelSelector="G"/>
                            </filter>
                            
                            <!-- Soft glow for corona -->
                            <filter id="coronaGlow" x="-50%" y="-50%" width="200%" height="200%">
                                <feGaussianBlur stdDeviation="1" result="blur"/>
                                <feMerge>
                                    <feMergeNode in="blur"/>
                                    <feMergeNode in="SourceGraphic"/>
                                </feMerge>
                            </filter>
                            
                            <!-- Flare bloom -->
                            <filter id="flareBloom" x="-100%" y="-100%" width="300%" height="300%">
                                <feGaussianBlur stdDeviation="2" result="blur"/>
                                <feComposite in="SourceGraphic" in2="blur" operator="over"/>
                            </filter>
                            
                            <!-- Photosphere gradient -->
                            <radialGradient id="photosphereGrad" cx="35%" cy="35%" r="60%">
                                <stop offset="0%" stop-color="#FFFDE7"/>
                                <stop offset="20%" stop-color="#FFE082"/>
                                <stop offset="45%" stop-color="#FFB300"/>
                                <stop offset="70%" stop-color="#E65100"/>
                                <stop offset="90%" stop-color="#BF360C"/>
                                <stop offset="100%" stop-color="#8D1F09"/>
                            </radialGradient>
                            
                            <!-- Limb darkening overlay -->
                            <radialGradient id="limbDarkening" cx="50%" cy="50%" r="50%">
                                <stop offset="0%" stop-color="transparent"/>
                                <stop offset="60%" stop-color="transparent"/>
                                <stop offset="85%" stop-color="rgba(139, 31, 9, 0.3)"/>
                                <stop offset="100%" stop-color="rgba(89, 20, 5, 0.5)"/>
                            </radialGradient>
                            
                            <!-- Corona ray gradient -->
                            <linearGradient id="coronaGrad" x1="50%" y1="100%" x2="50%" y2="0%">
                                <stop offset="0%" stop-color="#FFB300"/>
                                <stop offset="30%" stop-color="#FF8F00"/>
                                <stop offset="60%" stop-color="#E65100"/>
                                <stop offset="100%" stop-color="#BF360C" stop-opacity="0.4"/>
                            </linearGradient>
                            
                            <!-- Secondary ray gradient -->
                            <linearGradient id="coronaGradSoft" x1="50%" y1="100%" x2="50%" y2="0%">
                                <stop offset="0%" stop-color="#FFCA28" stop-opacity="0.8"/>
                                <stop offset="50%" stop-color="#FF9800" stop-opacity="0.5"/>
                                <stop offset="100%" stop-color="#E65100" stop-opacity="0.2"/>
                            </linearGradient>
                            
                            <!-- Chromosphere glow -->
                            <radialGradient id="chromosphereGrad" cx="50%" cy="50%" r="55%">
                                <stop offset="70%" stop-color="transparent"/>
                                <stop offset="85%" stop-color="rgba(255, 138, 101, 0.4)"/>
                                <stop offset="100%" stop-color="rgba(255, 87, 34, 0.2)"/>
                            </radialGradient>
                            
                            <!-- Flare gradient -->
                            <radialGradient id="flareGrad" cx="50%" cy="50%" r="50%">
                                <stop offset="0%" stop-color="#FFFFFF"/>
                                <stop offset="30%" stop-color="#FFF9C4"/>
                                <stop offset="70%" stop-color="#FFE082" stop-opacity="0.6"/>
                                <stop offset="100%" stop-color="#FFB300" stop-opacity="0"/>
                            </radialGradient>
                            
                            <!-- Core furnace glow -->
                            <radialGradient id="coreGlow" cx="50%" cy="50%" r="40%">
                                <stop offset="0%" stop-color="#FFFFFF" stop-opacity="0.9"/>
                                <stop offset="50%" stop-color="#FFF59D" stop-opacity="0.5"/>
                                <stop offset="100%" stop-color="#FFE082" stop-opacity="0"/>
                            </radialGradient>
                            
                        </defs>
                        
                        <!-- CORONA FLAMES -->
                        <g filter="url(#coronaGlow)">
                            <path class="corona-ray ray-1" fill="url(#coronaGrad)" 
                                  d="M26 3 Q28 8 28.5 13 Q27 15.5 26 16 Q25 15.5 23.5 13 Q24 8 26 3"/>
                            <path class="corona-ray ray-2" fill="url(#coronaGrad)" 
                                  d="M42 10 Q38 13 34 18 Q33 17 33 16.5 Q34.5 15 35 14 Q37 11 42 10"/>
                            <path class="corona-ray ray-3" fill="url(#coronaGrad)" 
                                  d="M49 26 Q44 24 38 23.5 Q36.5 25 36 26 Q36.5 27 38 28.5 Q44 28 49 26"/>
                            <path class="corona-ray ray-4" fill="url(#coronaGrad)" 
                                  d="M42 42 Q38 39 34 34 Q33 35 33 35.5 Q34.5 37 35 38 Q37 41 42 42"/>
                            <path class="corona-ray ray-5" fill="url(#coronaGrad)" 
                                  d="M26 49 Q24 44 23.5 39 Q25 36.5 26 36 Q27 36.5 28.5 39 Q28 44 26 49"/>
                            <path class="corona-ray ray-6" fill="url(#coronaGrad)" 
                                  d="M10 42 Q14 39 18 34 Q19 35 19 35.5 Q17.5 37 17 38 Q15 41 10 42"/>
                            <path class="corona-ray ray-7" fill="url(#coronaGrad)" 
                                  d="M3 26 Q8 24 14 23.5 Q15.5 25 16 26 Q15.5 27 14 28.5 Q8 28 3 26"/>
                            <path class="corona-ray ray-8" fill="url(#coronaGrad)" 
                                  d="M10 10 Q14 13 18 18 Q19 17 19 16.5 Q17.5 15 17 14 Q15 11 10 10"/>
                        </g>
                        
                        <!-- Minor flames -->
                        <g>
                            <path class="corona-ray-minor" fill="url(#coronaGradSoft)" 
                                  d="M31 6 Q30 10 29 14 Q28 15 27.5 15.5 Q28 14 28.5 12 Q29.5 9 31 6"/>
                            <path class="corona-ray-minor" fill="url(#coronaGradSoft)" 
                                  d="M46 21 Q42 22 38 23 Q37 24 36.5 23.5 Q38 23 39 22 Q42 20.5 46 21"/>
                            <path class="corona-ray-minor" fill="url(#coronaGradSoft)" 
                                  d="M46 31 Q42 30 38 29 Q37 28 36.5 28.5 Q38 29 39 30 Q42 31.5 46 31"/>
                            <path class="corona-ray-minor" fill="url(#coronaGradSoft)" 
                                  d="M31 46 Q30 42 29 38 Q28 37 27.5 36.5 Q28 38 28.5 40 Q29.5 43 31 46"/>
                            <path class="corona-ray-minor" fill="url(#coronaGradSoft)" 
                                  d="M21 46 Q22 42 23 38 Q24 37 24.5 36.5 Q24 38 23.5 40 Q22.5 43 21 46"/>
                            <path class="corona-ray-minor" fill="url(#coronaGradSoft)" 
                                  d="M6 31 Q10 30 14 29 Q15 28 15.5 28.5 Q14 29 13 30 Q10 31.5 6 31"/>
                            <path class="corona-ray-minor" fill="url(#coronaGradSoft)" 
                                  d="M6 21 Q10 22 14 23 Q15 24 15.5 23.5 Q14 23 13 22 Q10 20.5 6 21"/>
                            <path class="corona-ray-minor" fill="url(#coronaGradSoft)" 
                                  d="M21 6 Q22 10 23 14 Q24 15 24.5 15.5 Q24 14 23.5 12 Q22.5 9 21 6"/>
                        </g>
                        
                        <!-- CHROMOSPHERE -->
                        <circle cx="26" cy="26" r="11" fill="url(#chromosphereGrad)"/>
                        <circle class="chromosphere-ring" cx="26" cy="26" r="10.5" 
                                fill="none" stroke="rgba(255, 120, 60, 0.4)" stroke-width="0.8"/>
                        
                        <!-- PHOTOSPHERE -->
                        <g class="photosphere">
                            <circle cx="26" cy="26" r="10" fill="url(#photosphereGrad)"/>
                            <circle cx="26" cy="26" r="10" fill="url(#limbDarkening)"/>
                        </g>
                        
                        <!-- GRANULATION -->
                        <g>
                            <circle class="granule granule-1" cx="23" cy="24" r="1.6" fill="rgba(255, 248, 210, 0.5)"/>
                            <circle class="granule granule-2" cx="28" cy="25" r="1.3" fill="rgba(255, 245, 195, 0.45)"/>
                            <circle class="granule granule-3" cx="25" cy="28" r="1.4" fill="rgba(255, 242, 180, 0.4)"/>
                            <circle class="granule granule-4" cx="29" cy="28" r="1.1" fill="rgba(255, 248, 200, 0.45)"/>
                            <circle class="granule granule-5" cx="24" cy="22" r="1" fill="rgba(255, 252, 220, 0.5)"/>
                            <circle class="granule granule-6" cx="27" cy="22" r="0.9" fill="rgba(255, 250, 215, 0.42)"/>
                        </g>
                        
                        <!-- CORONAL LOOPS -->
                        <path class="coronal-loop" 
                              d="M20 22 Q16 26 20 30" 
                              fill="none" 
                              stroke="rgba(255, 180, 100, 0.8)" 
                              stroke-width="1"
                              stroke-linecap="round"
                              stroke-dasharray="15 5"/>
                        
                        <path class="coronal-loop" 
                              d="M32 23 Q36 26 32 29" 
                              fill="none" 
                              stroke="rgba(255, 160, 80, 0.7)" 
                              stroke-width="0.8"
                              stroke-linecap="round"
                              stroke-dasharray="12 4"
                              style="animation-delay: -1s;"/>
                        
                        <!-- SOLAR FLARE -->
                        <circle class="solar-flare" cx="26" cy="26" r="12" fill="url(#flareGrad)" filter="url(#flareBloom)"/>
                        
                        <!-- CORE GLOW -->
                        <circle class="core-glow" cx="26" cy="26" r="4" fill="url(#coreGlow)"/>
                        
                        <!-- SPECULAR HIGHLIGHT -->
                        <ellipse cx="23" cy="23" rx="2" ry="1.5" fill="rgba(255, 255, 255, 0.35)" transform="rotate(-30 23 23)"/>
                    </svg>
                </div>
               
                <div class="title-group">
                    <h1 class="site-title">CRR</h1>
                    <p class="strapline">A Temporal Grammar</p>
                </div>
            </div>

            <nav class="main-nav">
                <div class="nav-item">
                    <a href="index.html" class="nav-link">Home</a>
                </div>
                <div class="nav-item">
                    <a href="crr-simulations.html" class="nav-link active">
                        CRR Simulations
                        <span class="dropdown-arrow">▼</span>
                    </a>
                    <div class="dropdown-menu">
                        <a href="biological-systems.html" class="dropdown-link">Biological Systems</a>
                        <a href="physical-systems.html" class="dropdown-link">Physical Systems</a>
                        <a href="mathematical-life.html" class="dropdown-link">Mathematical Life</a>
                    </div>
                </div>
                <div class="nav-item">
                    <a href="crr-benchmarks.html" class="nav-link">CRR Benchmarks</a>
                </div>
                <div class="nav-item">
                    <a href="crr-explained.html" class="nav-link">CRR Explained</a>
                </div>
                <div class="nav-item">
                    <a href="about.html" class="nav-link">About</a>
                </div>
            </nav>
        </header>

        <main>
            <section class="hero-section">
                <div class="hero-background"></div>
                <div class="hero-content">
                    <h2 class="hero-title">Biological Systems</h2>
                    <p class="hero-subtitle">CRR dynamics in living ecosystems</p>
                </div>
            </section>

            <section class="content-section">
                <div class="section-background"></div>
                <div class="section-content">
                    <h2 class="section-title">Living Mathematical Ecosystems</h2>

                    <div class="bio-section">
                        <div class="bio-image">
                            <img src="bees.png" alt="Bee swarm forming coherent patterns around flower letters" />
                        </div>
                        <div class="bio-content">
                            <h3>Birds, Bees, Butterflies and Bats!</h3>
                            <p>These simulations demonstrate non-Markovian swarming algorithms across multiple species. Genetic algorithms drive bees as they pollinate flowers and produce mathematically emergent honey within hives. Robins exhibit territorial behaviours, building nests on L-System trees while avoiding predators through coordinated flocking responses. Bats use their sonar to hunt moths on a moonlit sea</p>
                            
                            <div class="ucf-highlight">
                                Butterfly metamorphosis showcases CRR phase transitions: coherence development from embryo to caterpillar, rupture during pupation, and regeneration as the adult emerges with transformed capabilities.
                            </div>
                            
                            <p>Each species operates through distinct CRR parameters, creating diverse behavioral patterns from the same mathematical framework. Swarm intelligence emerges from local interactions between autonomous agents, demonstrating how simple rules generate complex ecosystem dynamics.</p>
                            
                            <a href="birds.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Birds</a>
                            <a href="bees.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Bees</a>
                            <a href="bee_vision.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Bee Vision (Toy!)</a>
                            <a href="butterfly.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Butterflies</a>
                            <a href="bats.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Bats</a>
                            <a href="fixed_ant_colony.html" class="simulation-link" target="_blank" rel="noopener noreferrer">And...AgAnts</a>
                        </div>
                    </div>

                    <div class="bio-section">
                        <div class="bio-image">
                            <img src="marine.png" alt="Mathematical coral reef with fish and predator system" />
                        </div>
                        <div class="bio-content">
                            <h3>Marine Environments</h3>
                            <p>Mathematical coral systems respond to environmental heat stress through coherence-based bleaching and recovery cycles. Fish populations interact with coral through feeding behaviours, while mathematical currents shape the fish school behaviours and movements in realtime.</p>
                            
                            <div class="ucf-highlight">
                                Memory-enabled Reaction-Diffusion plankton systems create dynamic oceanic patterns, where phytoplankton blooms and predator-prey cycles emerge from CRR equations governing nutrient distribution and consumption.
                            </div>
                            
                            <p>These aquatic ecosystems demonstrate how CRR principles scale from microscopic plankton to complex reef systems, with each organism contributing to collective environmental coherence through biochemical signaling and spatial organisation.</p>
                            
                            <a href="marine.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Marine Tank</a>
                            <a href="marine2.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Marine Tank (with current adjustment)</a>
                        </div>
                    </div>

                    <div class="bio-section">
                        <div class="bio-image">
                            <img src="mycelium.png" alt="Mycelium network growth with branching patterns" />
                        </div>
                        <div class="bio-content">
                            <h3>Moss & Mycelium</h3>
                            <p>Memory-enabled environments simulate real-time growth of moss, mycelium, and tree rings. Forest ecosystems feature L-System trees with photosynthetic processes, while mycelial networks demonstrate glucose exchange and resource distribution across interconnected hyphal networks.</p>
                            
                            <div class="ucf-highlight">
                                High-fidelity microscopy reveals cellular-level CRR dynamics: moss gametophyte development, hyphal branching patterns, and coherence accumulation in mathematical cellular structures through non-Markovian growth processes.
                            </div>
                            
                            <p>These simulations capture the CRR nature of biological growth, where current development depends on accumulated historical patterns. Mycelial intelligence emerges through network topology optimisation and resource-sharing behaviours that transcend individual organism boundaries.</p>
                            
                            <a href="moss.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Moss (Toy)</a>
                            <a href="moss_a.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Moss (Advanced)</a>
                            <a href="mycelium.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Mycelium</a>
                            <a href="ecosystem.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Tree, Moss and Mycelium Ecosystem</a>
                            <a href="tree_ring.html" class="simulation-link" target="_blank" rel="noopener noreferrer">New Forest Tree Ring Growth</a>
                        </div>
                    </div>

                    <div class="bio-section">
                        <div class="bio-image">
                            <img src="thunder.png" alt="Storm clouds with lightning and mathematical sun" />
                        </div>
                        <div class="bio-content">
                            <h3>Weather Systems</h3>
                            <p>Atmospheric CRR dynamics drive cloud formation, charge accumulation, and lightning discharge patterns. The system tracks real-time Coherence-Rupture-Regeneration phases as electrical potential builds in cloud systems until rupture thresholds trigger lightning strikes through optimal CRR field pathways.</p>
                            
                            <div class="ucf-highlight">
                                Mathematical sun positioning drives convection and charge separation, while sophisticated lightning pathfinding algorithms use coherence field calculations to determine discharge routes. Thunder audio emerges from diagetic mathematical synthesis, creating authentic storm soundscapes through procedural waveform generation.
                            </div>
                            
                            <p>The simulation features both bolt lightning (cloud-to-ground strikes) and sheet lightning (cloud-to-cloud discharges), with interactive lightning and real-time storm parameter control. Users can observe how CRR coherence fields influence atmospheric electrical behavior and precipitation patterns. The hurricane example shows three toy models of memory-based hurricanes over Jamaica.</p>
                            
                            <a href="weather.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Experience Storm Formation</a>
                            <a href="hurricane.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Experience CRR Hurricane</a>
                        </div>
                    </div>
                    <div class="bio-section">
                        <div class="bio-image">
                            <img src="fish.png" alt="Fish scale iridescence and mother-of-pearl surface" />
                        </div>
                        <div class="bio-content">
                            <h3>Iridescence and Pearlescence</h3>
                            <p>These simulations demonstrate memory-enhanced biologically realistic surface textures. Fish scale iridescence and mother-of-pearl surfaces exhibit enhanced color visibility through structural interference patterns.</p>
                            
                            <div class="ucf-highlight">
                                Golden beetle carapaces demonstrate dynamic metallic colouration through thin-film interference, modelling the real-world Charidotella sexpunctata that actively changes from brilliant gold to dull brown through cuticle structure manipulation.
                            </div>
                            
                            <p>Each system  was derived by the CRR framework to model coherence accumulation, rupture events, and regenerative processes. Memory integration enables temporal patterns that persist beyond immediate stimulus, creating surfaces that respond to viewing angle and variable changes.</p>
                            
                            <a href="fish_irridescence.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Fish Scale Iridescence</a>
                            <a href="crr_mother_of_pearl.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Mother-of-Pearl</a>
                            <a href="golden_beetle_crr.html" class="simulation-link" target="_blank" rel="noopener noreferrer">Golden Beetle</a>
                        </div>
                    </div>

                </div>
            </section>
        </main>
    </div>

    <footer class="footer">
        <div class="page-container">
            <div class="footer-content">
                
                <div class="footer-sections">
                    <div class="footer-section">
                        <h4>Core Resources</h4>
                        <ul>
                            <li><a href="https://github.com/alexsabine/CRR/" target="_blank" rel="noopener noreferrer">GitHub Repository</a></li>
                            <li><a href="https://github.com/alexsabine/CRR/blob/main/CRR_Repository_Catalogue.md" target="_blank" rel="noopener noreferrer">Repository Catalogue</a> <span style="font-size: 12px; color: #888;">(67+ demos)</span></li>
                            <li><a href="https://www.cohere.org.uk/guide.html" target="_blank" rel="noopener noreferrer">Guide</a></li>
                            <li><a href="https://github.com/alexsabine/CRR/blob/main/CRR_COMPREHENSIVE_SUMMARY.md" target="_blank" rel="noopener noreferrer">Comprehensive Summary</a></li>
                            <li><a href="https://github.com/alexsabine/CRR/blob/main/README.md" target="_blank" rel="noopener noreferrer">README</a></li>
                            <li><a href="https://www.cohere.org.uk/CRR_Plenary.html" target="_blank" rel="noopener noreferrer">CRR in 5-Mins</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-section">
                        <h4>Theory & Proof Sketches</h4>
                        <ul>
                            <li><a href="https://www.cohere.org.uk/Maths.html" target="_blank" rel="noopener noreferrer">Mathematical Foundations</a></li>
                            <li><a href="https://github.com/alexsabine/CRR/blob/main/crr_martingale_derivation.pdf" target="_blank" rel="noopener noreferrer">Martingale Derivation</a></li>
                            <li><a href="https://github.com/alexsabine/CRR/blob/main/canonical_crr_rigorous_proof_sketch.md" target="_blank" rel="noopener noreferrer">Canonical Proof Sketch</a></li>
                            <li><a href="https://www.cohere.org.uk/crr_first_principles_proofs.md" target="_blank" rel="noopener noreferrer">First Principles (12 domains)</a></li>
                            <li><a href="https://www.cohere.org.uk/16_nats_identity.pdf" target="_blank" rel="noopener noreferrer">16 Nats exploration</a></li>
                            <li><a href="https://www.cohere.org.uk/16nats_simulation.html" target="_blank" rel="noopener noreferrer">16 Nats System 1-2 Demo</a></li>
                            <li><a href="https://www.cohere.org.uk/CRR_Flatness_Commentary.pdf" target="_blank" rel="noopener noreferrer">Response to Mounier, Parr & Friston (2026)</a></li>
                            <li><a href="https://www.cohere.org.uk/CRR_Response_Tucker+Luu.pdf" target="_blank" rel="noopener noreferrer">Response to Tucker & Luu (2025)</a></li>
                            <li><a href="https://www.cohere.org.uk/Tolchinksy.pdf" target="_blank" rel="noopener noreferrer">Response to Tolchinsky et al (2025)</a></li>
                            <li><a href="https://www.cohere.org.uk/CRR_Lateralization_Thesis.pdf" target="_blank" rel="noopener noreferrer">L-R Brain Laterilisation (CRR)</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-section aliboo">
                        <h4>Aliboo's Wacky Workshop</h4>
                        <ul>
                            <li><a href="https://www.cohere.org.uk/crr-forest-seasonal.html" target="_blank" rel="noopener noreferrer">Season's Forest</a> <span style="font-size: 12px; color: #888;">(no CRR here, just a nice demo)</span></li>
                            <li><a href="https://www.cohere.org.uk/aurora_campfire.html" target="_blank" rel="noopener noreferrer">Aurora Campfire</a></li>
                            <li><a href="https://www.cohere.org.uk/siren-song.html" target="_blank" rel="noopener noreferrer">Siren Song</a></li>
                            <li><a href="https://www.cohere.org.uk/nostalgia_trap.html" target="_blank" rel="noopener noreferrer">Nostalgia Trap</a></li>
                            <li><a href="https://www.cohere.org.uk/CRR_Art.html" target="_blank" rel="noopener noreferrer">CRR Art Gallery</a></li>
                            <li><a href="https://www.cohere.org.uk/crr-explained.html" target="_blank" rel="noopener noreferrer">CRR Explained</a></li>
                            <li><a href="https://www.cohere.org.uk/brain_scientist_v2.html" target="_blank" rel="noopener noreferrer">FEP+CRR Brain (Pedagogical)</a></li>
                            <li><a href="https://www.cohere.org.uk/brain_scientist_verified.html" target="_blank" rel="noopener noreferrer">FEP+CRR Brain (Pedagogical)</a></li>
                            <li><a href="https://www.cohere.org.uk/water-droplet-translucent.html" target="_blank" rel="noopener noreferrer">CRR Water Droplet</a></li>
                            <li><a href="https://www.cohere.org.uk/crr_star.html" target="_blank" rel="noopener noreferrer">CRR Star</a></li>
                            <li><a href="https://www.cohere.org.uk/crr_veil.html" target="_blank" rel="noopener noreferrer">CRR Veil Nebula</a></li>
                            <li><a href="https://www.cohere.org.uk/fep_ink_with_karl.html" target="_blank" rel="noopener noreferrer">The Classic Karl Series - Living Ink Demo</a></li>
                            <li><a href="https://www.cohere.org.uk/crr_screen_simulation.html" target="_blank" rel="noopener noreferrer">Meta Claude (fun!)</a></li>
                            <li><a href="https://www.cohere.org.uk/crr_planck_zoom.html" target="_blank" rel="noopener noreferrer">Meta Claude (planck fun)</a></li>
                            <li><a href="https://www.cohere.org.uk/crr_llm_journey.html" target="_blank" rel="noopener noreferrer">Meta Claude (word fun)</a></li>
                        </ul>
                    </div>
                </div>
                
                <div class="footer-divider"></div>
                
                <p class="sitemap-header">Site Map (it's a bit of a Labyrinth!)</p>
                
                <div class="anthill-container" id="anthillContainer">
                    <canvas class="anthill-canvas" id="anthillCanvas"></canvas>
                    <div class="colony-stats" id="colonyStats"></div>
                </div>
                
                <script>
                (function() {
                    const container = document.getElementById('anthillContainer');
                    const canvas = document.getElementById('anthillCanvas');
                    const ctx = canvas.getContext('2d');
                    const statsEl = document.getElementById('colonyStats');
                    
                    let W, H, dpr;
                    
                    const sections = [
                        { id: 'home', name: 'Home', url: 'index.html', x: 0.5, y: 0.08 },
                        { id: 'simulations', name: 'Simulations', url: 'crr-simulations.html', x: 0.22, y: 0.25 },
                        { id: 'biological', name: 'Biological', url: 'biological-systems.html', x: 0.10, y: 0.50 },
                        { id: 'physical', name: 'Physical', url: 'physical-systems.html', x: 0.28, y: 0.52 },
                        { id: 'mathematical', name: 'Mathematical', url: 'mathematical-life.html', x: 0.18, y: 0.78 },
                        { id: 'benchmarks', name: 'Benchmarks', url: 'crr-benchmarks.html', x: 0.50, y: 0.38 },
                        { id: 'explained', name: 'Explained', url: 'crr-explained.html', x: 0.78, y: 0.25 },
                        { id: 'about', name: 'About', url: 'about.html', x: 0.90, y: 0.50 },
                        { id: 'workshop', name: 'Workshop', url: 'CRR_Art.html', x: 0.70, y: 0.78 },
                        { id: 'maths', name: 'Maths', url: 'Maths.html', x: 0.50, y: 0.62 }
                    ];
                    
                    const resourceTypes = [
                        { symbol: '∫', name: 'integral', color: '#FFD700' },
                        { symbol: 'Ω', name: 'omega', color: '#FFA500' },
                        { symbol: 'δ', name: 'delta', color: '#FF6B6B' },
                        { symbol: 'C', name: 'coherence', color: '#90EE90' },
                        { symbol: 'R', name: 'regeneration', color: '#87CEEB' },
                        { symbol: 'π', name: 'pi', color: '#DDA0DD' },
                        { symbol: 'e', name: 'euler', color: '#F0E68C' },
                        { symbol: '∂', name: 'partial', color: '#98FB98' },
                        { symbol: 'Σ', name: 'sum', color: '#FFC0CB' },
                        { symbol: '∞', name: 'infinity', color: '#E6E6FA' }
                    ];
                    
                    let chambers = [];
                    let tunnels = [];
                    let ants = [];
                    let totalResourcesDelivered = 0;
                    
                    function resize() {
                        const rect = container.getBoundingClientRect();
                        dpr = window.devicePixelRatio || 1;
                        W = rect.width;
                        H = rect.height;
                        canvas.width = W * dpr;
                        canvas.height = H * dpr;
                        ctx.scale(dpr, dpr);
                        canvas.style.width = W + 'px';
                        canvas.style.height = H + 'px';
                        initChambers();
                    }
                    
                    function initChambers() {
                        chambers = sections.map((s, i) => ({
                            ...s,
                            px: s.x * W,
                            py: s.y * H,
                            radius: Math.min(W, H) * 0.052,
                            resources: [],
                            activity: 0
                        }));
                        
                        tunnels = [
                            { from: 0, to: 1 }, { from: 0, to: 5 }, { from: 0, to: 6 },
                            { from: 1, to: 2 }, { from: 1, to: 3 }, { from: 1, to: 5 },
                            { from: 2, to: 4 }, { from: 3, to: 4 }, { from: 3, to: 9 },
                            { from: 5, to: 9 }, { from: 6, to: 7 }, { from: 6, to: 5 },
                            { from: 7, to: 8 }, { from: 8, to: 9 }, { from: 4, to: 8 },
                            { from: 9, to: 8 }, { from: 5, to: 6 }
                        ].map(t => ({
                            ...t,
                            strength: 0.2 + Math.random() * 0.3,
                            pheromone: 0.4 + Math.random() * 0.2
                        }));
                    }
                    
                    class Ant {
                        constructor() {
                            this.reset();
                        }
                        
                        reset() {
                            const startChamber = chambers[Math.floor(Math.random() * chambers.length)];
                            this.x = startChamber.px + (Math.random() - 0.5) * startChamber.radius * 0.5;
                            this.y = startChamber.py + (Math.random() - 0.5) * startChamber.radius * 0.5;
                            this.homeChamber = startChamber;
                            this.targetChamber = null;
                            this.carrying = null;
                            this.coherence = 0;
                            this.omega = 0.25 + Math.random() * 0.5;
                            this.speed = 0.5 + Math.random() * 0.4;
                            this.angle = Math.random() * Math.PI * 2;
                            this.waitTime = 0;
                            this.decideAction();
                        }
                        
                        decideAction() {
                            const memoryWeight = Math.exp(this.coherence / this.omega);
                            this.pickForagingTarget();
                            this.coherence = 0;
                        }
                        
                        pickForagingTarget() {
                            const currentChamberIdx = this.nearestChamberIndex();
                            const connections = tunnels.filter(t => 
                                (t.from === currentChamberIdx || t.to === currentChamberIdx) && t.strength > 0.2
                            );
                            
                            if (connections.length > 0 && Math.random() > 0.2) {
                                connections.sort((a, b) => b.pheromone - a.pheromone);
                                const conn = connections[Math.random() < 0.3 ? Math.floor(Math.random() * connections.length) : 0];
                                const targetIdx = conn.from === currentChamberIdx ? conn.to : conn.from;
                                this.targetChamber = chambers[targetIdx];
                            } else {
                                this.targetChamber = chambers[Math.floor(Math.random() * chambers.length)];
                            }
                        }
                        
                        nearestChamberIndex() {
                            let nearest = 0;
                            let minDist = Infinity;
                            chambers.forEach((ch, i) => {
                                const d = Math.hypot(ch.px - this.x, ch.py - this.y);
                                if (d < minDist) { minDist = d; nearest = i; }
                            });
                            return nearest;
                        }
                        
                        update() {
                            this.waitTime = Math.max(0, this.waitTime - 1);
                            if (this.waitTime > 0) return;
                            
                            this.coherence += 0.006 * this.speed;
                            
                            const effectiveOmega = this.carrying ? this.omega * 2.2 : this.omega;
                            
                            if (this.coherence > effectiveOmega) {
                                if (this.carrying) {
                                    const nearIdx = this.nearestChamberIndex();
                                    const nearCh = chambers[nearIdx];
                                    const distToNearest = Math.hypot(nearCh.px - this.x, nearCh.py - this.y);
                                    
                                    if (distToNearest < nearCh.radius * 0.8) {
                                        nearCh.resources.push(this.carrying);
                                        nearCh.activity += 0.1;
                                        totalResourcesDelivered++;
                                        this.carrying = null;
                                    }
                                }
                                this.waitTime = 8 + Math.random() * 15;
                                this.decideAction();
                                return;
                            }
                            
                            if (this.targetChamber) {
                                this.moveTowardTarget();
                            } else {
                                this.wander();
                            }
                            
                            this.x = Math.max(12, Math.min(W - 12, this.x));
                            this.y = Math.max(12, Math.min(H - 12, this.y));
                        }
                        
                        moveTowardTarget() {
                            const dx = this.targetChamber.px - this.x;
                            const dy = this.targetChamber.py - this.y;
                            const dist = Math.hypot(dx, dy);
                            
                            if (dist < this.targetChamber.radius * 0.6) {
                                this.targetChamber.activity += 0.05;
                                
                                if (this.carrying) {
                                    this.targetChamber.resources.push(this.carrying);
                                    totalResourcesDelivered++;
                                    this.carrying = null;
                                    this.waitTime = 12;
                                } else if (this.targetChamber.resources.length > 2) {
                                    this.carrying = this.targetChamber.resources.pop();
                                    this.waitTime = 8;
                                } else if (Math.random() < 0.35) {
                                    this.carrying = resourceTypes[Math.floor(Math.random() * resourceTypes.length)];
                                }
                                
                                const fromIdx = this.nearestChamberIndex();
                                tunnels.forEach(t => {
                                    if ((t.from === fromIdx && chambers[t.to] === this.targetChamber) ||
                                        (t.to === fromIdx && chambers[t.from] === this.targetChamber)) {
                                        t.pheromone = Math.min(1, t.pheromone + 0.02);
                                        t.strength = Math.min(1, t.strength + 0.003);
                                    }
                                });
                                
                                this.pickForagingTarget();
                                return;
                            }
                            
                            const targetAngle = Math.atan2(dy, dx);
                            const memoryWeight = Math.exp(this.coherence / this.omega);
                            const angleBlend = Math.min(0.12 * memoryWeight, 0.35);
                            
                            this.angle += (targetAngle - this.angle) * angleBlend;
                            this.angle += (Math.random() - 0.5) * 0.2;
                            
                            const currentSpeed = this.carrying ? this.speed * 0.65 : this.speed;
                            this.x += Math.cos(this.angle) * currentSpeed;
                            this.y += Math.sin(this.angle) * currentSpeed;
                        }
                        
                        wander() {
                            this.angle += (Math.random() - 0.5) * 0.35;
                            this.x += Math.cos(this.angle) * this.speed * 0.4;
                            this.y += Math.sin(this.angle) * this.speed * 0.4;
                            if (Math.random() < 0.015) this.decideAction();
                        }
                        
                        draw(ctx) {
                            ctx.save();
                            ctx.translate(this.x, this.y);
                            ctx.rotate(this.angle);
                            
                            ctx.fillStyle = '#1a0a00';
                            
                            ctx.beginPath();
                            ctx.ellipse(3.5, 0, 2, 1.6, 0, 0, Math.PI * 2);
                            ctx.fill();
                            
                            ctx.beginPath();
                            ctx.ellipse(-0.5, 0, 2.5, 2, 0, 0, Math.PI * 2);
                            ctx.fill();
                            
                            ctx.beginPath();
                            ctx.ellipse(-5, 0, 3.5, 2.5, 0, 0, Math.PI * 2);
                            ctx.fill();
                            
                            ctx.strokeStyle = '#1a0a00';
                            ctx.lineWidth = 0.6;
                            const legPhase = Date.now() * 0.012 + this.x * 0.1;
                            for (let i = -1; i <= 1; i++) {
                                const lx = -0.5 + i * 2;
                                const legWave = Math.sin(legPhase + i * 1.1) * 1.8;
                                ctx.beginPath();
                                ctx.moveTo(lx, 1.6);
                                ctx.quadraticCurveTo(lx + 1.2, 2.8 + legWave, lx + 2.5, 4.5 + legWave * 0.5);
                                ctx.stroke();
                                ctx.beginPath();
                                ctx.moveTo(lx, -1.6);
                                ctx.quadraticCurveTo(lx + 1.2, -2.8 - legWave, lx + 2.5, -4.5 - legWave * 0.5);
                                ctx.stroke();
                            }
                            
                            ctx.beginPath();
                            ctx.moveTo(4.5, 0.7);
                            ctx.quadraticCurveTo(6, 1.3, 7.5, 2.5 + Math.sin(Date.now() * 0.007 + this.y) * 0.6);
                            ctx.stroke();
                            ctx.beginPath();
                            ctx.moveTo(4.5, -0.7);
                            ctx.quadraticCurveTo(6, -1.3, 7.5, -2.5 + Math.sin(Date.now() * 0.007 + this.y + 1) * 0.6);
                            ctx.stroke();
                            
                            if (this.carrying) {
                                ctx.fillStyle = this.carrying.color;
                                ctx.font = 'bold 7px Georgia';
                                ctx.textAlign = 'center';
                                ctx.textBaseline = 'middle';
                                ctx.shadowColor = 'rgba(0,0,0,0.6)';
                                ctx.shadowBlur = 2;
                                ctx.fillText(this.carrying.symbol, 0, -5);
                                ctx.shadowBlur = 0;
                            }
                            
                            ctx.restore();
                        }
                    }
                    
                    function evaporate() {
                        tunnels.forEach(t => { t.pheromone *= 0.9992; });
                    }
                    
                    function drawNest() {
                        ctx.clearRect(0, 0, W, H);
                        
                        ctx.fillStyle = 'rgba(55, 38, 22, 0.25)';
                        for (let i = 0; i < 40; i++) {
                            ctx.beginPath();
                            ctx.arc(Math.random() * W, Math.random() * H, 1 + Math.random() * 2.5, 0, Math.PI * 2);
                            ctx.fill();
                        }
                        
                        ctx.lineCap = 'round';
                        tunnels.forEach(t => {
                            const fromCh = chambers[t.from];
                            const toCh = chambers[t.to];
                            const tunnelWidth = 10 + t.strength * 12;
                            
                            ctx.strokeStyle = 'rgba(28, 16, 6, ' + (0.35 + t.strength * 0.4) + ')';
                            ctx.lineWidth = tunnelWidth + 5;
                            ctx.beginPath();
                            ctx.moveTo(fromCh.px, fromCh.py);
                            const midX = (fromCh.px + toCh.px) / 2 + (t.from - t.to) * 6;
                            const midY = (fromCh.py + toCh.py) / 2 + (t.from + t.to) * 2;
                            ctx.quadraticCurveTo(midX, midY, toCh.px, toCh.py);
                            ctx.stroke();
                            
                            const bright = 50 + t.strength * 35 + t.pheromone * 18;
                            ctx.strokeStyle = 'rgb(' + (bright + 12) + ',' + (bright - 6) + ',' + (bright - 18) + ')';
                            ctx.lineWidth = tunnelWidth;
                            ctx.stroke();
                            
                            if (t.pheromone > 0.35) {
                                ctx.strokeStyle = 'rgba(170, 130, 55, ' + (t.pheromone * 0.12) + ')';
                                ctx.lineWidth = tunnelWidth + 3;
                                ctx.stroke();
                            }
                        });
                        
                        chambers.forEach(ch => {
                            const glowInt = Math.min(ch.activity, 1);
                            const glow = ctx.createRadialGradient(ch.px, ch.py, 0, ch.px, ch.py, ch.radius * 1.4);
                            glow.addColorStop(0, 'rgba(115, 85, 48, ' + (0.88 + glowInt * 0.1) + ')');
                            glow.addColorStop(0.55, 'rgba(80, 55, 32, ' + (0.82 + glowInt * 0.1) + ')');
                            glow.addColorStop(1, 'rgba(45, 28, 12, 0)');
                            
                            ctx.fillStyle = glow;
                            ctx.beginPath();
                            ctx.ellipse(ch.px, ch.py, ch.radius * 1.35, ch.radius * 1.15, 0, 0, Math.PI * 2);
                            ctx.fill();
                            
                            const interior = ctx.createRadialGradient(ch.px - ch.radius * 0.18, ch.py - ch.radius * 0.18, 0, ch.px, ch.py, ch.radius);
                            interior.addColorStop(0, 'rgba(' + (100 + glowInt * 18) + ',' + (70 + glowInt * 12) + ',' + (42 + glowInt * 8) + ', 0.94)');
                            interior.addColorStop(0.7, 'rgba(70, 48, 28, 0.88)');
                            interior.addColorStop(1, 'rgba(55, 35, 20, 0.82)');
                            
                            ctx.fillStyle = interior;
                            ctx.beginPath();
                            ctx.ellipse(ch.px, ch.py, ch.radius, ch.radius * 0.82, 0, 0, Math.PI * 2);
                            ctx.fill();
                            
                            ctx.fillStyle = 'rgba(255, 246, 218, 0.88)';
                            ctx.font = '10px Georgia';
                            ctx.textAlign = 'center';
                            ctx.textBaseline = 'middle';
                            ctx.shadowColor = 'rgba(0,0,0,0.75)';
                            ctx.shadowBlur = 3;
                            ctx.fillText(ch.name, ch.px, ch.py);
                            ctx.shadowBlur = 0;
                            
                            ch.resources.slice(-5).forEach((res, ri) => {
                                const resAngle = (ri / 5) * Math.PI * 2 + Date.now() * 0.00025;
                                const resX = ch.px + Math.cos(resAngle) * (ch.radius * 0.55);
                                const resY = ch.py + Math.sin(resAngle) * (ch.radius * 0.45);
                                ctx.fillStyle = res.color;
                                ctx.font = '6px Georgia';
                                ctx.fillText(res.symbol, resX, resY);
                            });
                            
                            ch.activity *= 0.985;
                        });
                        
                        ants.forEach(ant => ant.draw(ctx));
                        
                        const carriers = ants.filter(a => a.carrying).length;
                        statsEl.textContent = 'Resources moved: ' + totalResourcesDelivered + ' | Carriers: ' + carriers;
                    }
                    
                    let frameCount = 0;
                    function animate() {
                        frameCount++;
                        ants.forEach(ant => ant.update());
                        if (frameCount % 4 === 0) evaporate();
                        drawNest();
                        requestAnimationFrame(animate);
                    }
                    
                    resize();
                    
                    for (let i = 0; i < 22; i++) ants.push(new Ant());
                    
                    chambers.forEach(ch => {
                        for (let i = 0; i < 2 + Math.floor(Math.random() * 3); i++) {
                            ch.resources.push(resourceTypes[Math.floor(Math.random() * resourceTypes.length)]);
                        }
                    });
                    
                    canvas.addEventListener('click', (e) => {
                        const rect = canvas.getBoundingClientRect();
                        const mx = e.clientX - rect.left;
                        const my = e.clientY - rect.top;
                        chambers.forEach(ch => {
                            if (Math.hypot(ch.px - mx, ch.py - my) < ch.radius) {
                                window.location.href = ch.url;
                            }
                        });
                    });
                    
                    canvas.style.cursor = 'pointer';
                    window.addEventListener('resize', resize);
                    animate();
                })();
                </script>
                
                <div class="footer-divider"></div>
                
                <p class="footer-repo-note">
                    This repository is an explorable treatise: 67+ interactive demonstrations alongside mathematical documentation. The unusual structure is intentional. Think exhibition space, not code library.
                </p>
                
                <p class="footer-author">
                    <strong>Alexander Sabine</strong> · Board of Directors, <a href="https://activeinference.org/" target="_blank" rel="noopener noreferrer">Active Inference Institute</a> (2026)<br>
                    Doctoral studies in participatory action mapping (maps and territories)<br>
                    Contact: Alexander [at] active-inference [dot] co [dot] uk
                </p>
                
                <p class="footer-tech-note">
                    Simulations utilise HTML5, WebGL2, and advanced JavaScript. Desktop browsers recommended for optimal performance.<br>
                    Site coded by Claude, with thanks to Anthropic. 
                </p>
                
            </div>
        </div>
    </footer>

    <script>
        'use strict';

        // Page Animation System
        class BiologicalSystemsPage {
            constructor() {
                this.animationTime = 0;
                this.isAnimating = true;
                this.rafId = null;
                this.elements = this.cacheElements();
                this.init();
            }

            cacheElements() {
                return {
                    navLinks: document.querySelectorAll('.nav-link')
                };
            }

            init() {
                if (document.readyState === 'loading') {
                    document.addEventListener('DOMContentLoaded', () => this.start());
                } else {
                    this.start();
                }
            }

            start() {
                try {
                    this.setupNavigationInteractions();
                    this.setupSunInteractions();
                    this.setupVisibilityChange();
                } catch (error) {
                    console.error('Initialisation error:', error);
                }
            }

            setupSunInteractions() {
                const sun = document.getElementById('crrSun');
                if (!sun) return;
                
                sun.addEventListener('click', function() {
                    sun.classList.remove('erupting');
                    void sun.offsetWidth; // Force reflow
                    sun.classList.add('erupting');
                    setTimeout(() => sun.classList.remove('erupting'), 800);
                });
            }

            setupNavigationInteractions() {
                this.elements.navLinks.forEach((link) => {
                    link.addEventListener('mouseenter', () => {
                        if (!link.classList.contains('active')) {
                            link.style.transform = 'translateY(-2px)';
                        }
                    });
                    
                    link.addEventListener('mouseleave', () => {
                        link.style.transform = 'translateY(0)';
                    });
                });
            }

            setupVisibilityChange() {
                document.addEventListener('visibilitychange', () => {
                    if (document.hidden) {
                        this.isAnimating = false;
                        if (this.rafId) {
                            cancelAnimationFrame(this.rafId);
                        }
                    } else {
                        this.isAnimating = true;
                    }
                });
            }

            destroy() {
                this.isAnimating = false;
                if (this.rafId) {
                    cancelAnimationFrame(this.rafId);
                }
            }
        }

        // Initialize application
        const app = new BiologicalSystemsPage();

        // Cleanup on page unload
        window.addEventListener('beforeunload', () => {
            if (app) app.destroy();
        });
    </script>
</body>
</html>
